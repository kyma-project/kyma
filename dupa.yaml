apiVersion: serverless.kyma-project.io/v1alpha1
kind: Function
metadata:
  name: my-test-lambda
  namespace: kyma-system
spec:
  functionContentType: plaintext
  runtime: nodejs8
  timeout: 360
  env:
  - name: PERSON_NAME
    value: "John"
  deps: |
    {
      "name": "my-test-lambda",
      "version": "0.0.1",
      "dependencies": {
        "end-of-stream": "^1.4.1",
        "from2": "^2.3.0",
        "lodash": "^4.17.5"
      }
    }
  function: |
    module.exports = {
      main: function(event, context) {
        const name = process.env.PERSON_NAME;
        return 'Hello ' + name;
      }
    }