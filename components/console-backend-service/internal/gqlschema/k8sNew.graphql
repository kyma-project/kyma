scalar LimitType @goModel(model: "k8s.io/api/core/v1.LimitType")

type ResourceLimits {
  memory: String
  cpu: String
}

type LimitRangeItem @goModel(model: "k8s.io/api/core/v1.LimitRangeItem") {
  type: LimitType!
  max: ResourceLimits
  default: ResourceLimits
  defaultRequest: ResourceLimits
}

type LimitRangeSpec @goModel(model: "k8s.io/api/core/v1.LimitRangeSpec") {
  limits: [LimitRangeItem!]!
}
type LimitRange @goModel(model: "k8s.io/api/core/v1.LimitRange") {
  name: String!
  spec: LimitRangeSpec!
  json: JSON!
  generation: Int!
}

input LimitRangeInput {
  default: ResourceValuesInput!
  defaultRequest: ResourceValuesInput!
  max: ResourceValuesInput!
  type: String!
}

extend type Query {
  limitRanges(namespace: String!): [LimitRange!]!
  @HasAccess(
    attributes: { resource: "se", verb: "list", apiGroup: "", apiVersion: "v1", namespaceArg: "namespace" }
  )
}

extend type Mutation {
  updateLimitRange(namespace: String!, name: String!, generation: Int!, json: JSON!): LimitRange
  @HasAccess(
    attributes: {
      resource: "limitrange"
      verb: "create"
      apiGroup: ""
      apiVersion: "v1"
      namespaceArg: "namespace"
    }
  )
}
