{"version":3,"file":"time.js","sourceRoot":"","sources":["../src/time.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,6DAA8C;AAE9C,IAAI,iBAAyB,CAAA;AAE7B,MAAM,OAAO,GAAQ;IACnB,WAAW;QACT,iBAAiB,GAAG,YAAY,EAAE,CAAA;IACpC,CAAC;IACD,aAAa,EAAE,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC;IACzC,YAAY,EAAE,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC;IACvC,IAAI;IACJ,SAAS;QACP,OAAO,YAAY,EAAE,GAAG,iBAAiB,CAAA;IAC3C,CAAC;IACD,WAAW,EAAE,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC;IACrC,UAAU,EAAE,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC;CACpC,CAAA;AAED,IAAI,OAAO,YAAY,KAAK,WAAW,EAAE;IACvC,OAAO,CAAC,YAAY,GAAG,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;IAChD,OAAO,CAAC,cAAc,GAAG,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;CACrD;AAED,SAAS,YAAY;IACnB,OAAO,IAAI,OAAO,CAAC,IAAI,EAAE,CAAC,OAAO,EAAE,CAAA;AACrC,CAAC;AAED,SAAgB,yBAAyB,CACvC,gBAAoC,EACpC,iBAAqC;IAErC,MAAM,cAAc,GAClB,QAAQ,CAAC,cAAc,CAAC,iCAAiC,CACvD,iBAAiB,CAClB;QACD,QAAQ,CAAC,cAAc,CAAC,iCAAiC,CAAC,gBAAgB,CAAC,CAAA;IAC7E,OAAO,QAAQ,CAAC,cAAc,CAAC,sBAAsB,CAAC,cAAc,CAAC,CAAA;AACvE,CAAC;AAVD,8DAUC;AAED,kBAAe,OAAO,CAAA","sourcesContent":["import * as messages from '@cucumber/messages'\n\nlet previousTimestamp: number\n\nconst methods: any = {\n  beginTiming() {\n    previousTimestamp = getTimestamp()\n  },\n  clearInterval: clearInterval.bind(global),\n  clearTimeout: clearTimeout.bind(global),\n  Date,\n  endTiming() {\n    return getTimestamp() - previousTimestamp\n  },\n  setInterval: setInterval.bind(global),\n  setTimeout: setTimeout.bind(global),\n}\n\nif (typeof setImmediate !== 'undefined') {\n  methods.setImmediate = setImmediate.bind(global)\n  methods.clearImmediate = clearImmediate.bind(global)\n}\n\nfunction getTimestamp(): number {\n  return new methods.Date().getTime()\n}\n\nexport function durationBetweenTimestamps(\n  startedTimestamp: messages.Timestamp,\n  finishedTimestamp: messages.Timestamp\n): messages.Duration {\n  const durationMillis =\n    messages.TimeConversion.timestampToMillisecondsSinceEpoch(\n      finishedTimestamp\n    ) -\n    messages.TimeConversion.timestampToMillisecondsSinceEpoch(startedTimestamp)\n  return messages.TimeConversion.millisecondsToDuration(durationMillis)\n}\n\nexport default methods\n"]}