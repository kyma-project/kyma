{{ if .Values.global.jetstream.enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ template "dashboards.fullname" . }}-jetstream
  labels:
    grafana_dashboard: "1"
{{ include "dashboards.labels" . | indent 4 }}
data:
  eventing-jetstream.json: |-
    {{`{
       "annotations":{
          "list":[
             {
                "builtIn":1,
                "datasource":"-- Grafana --",
                "enable":true,
                "hide":true,
                "iconColor":"rgba(0, 211, 255, 1)",
                "name":"Annotations & Alerts",
                "target":{
                   "limit":100,
                   "matchAny":false,
                   "tags":[

                   ],
                   "type":"dashboard"
                },
                "type":"dashboard"
             }
          ]
       },
       "description":"NATS JetStream Dashboard",
       "editable":true,
       "fiscalYearStartMonth":0,
       "graphTooltip":1,
       "id":null,
       "iteration":1642544826470,
       "links":[

       ],
       "liveNow":false,
       "panels":[
          {
             "fieldConfig":{
                "defaults":{
                   "decimals":3,
                   "mappings":[

                   ],
                   "max":1,
                   "min":0,
                   "thresholds":{
                      "mode":"absolute",
                      "steps":[
                         {
                            "color":"green",
                            "value":null
                         },
                         {
                            "color":"#EAB839",
                            "value":0.75
                         },
                         {
                            "color":"red",
                            "value":0.9
                         }
                      ]
                   },
                   "unit":"percentunit"
                },
                "overrides":[

                ]
             },
             "gridPos":{
                "h":6,
                "w":4,
                "x":0,
                "y":0
             },
             "id":28,
             "options":{
                "orientation":"auto",
                "reduceOptions":{
                   "calcs":[
                      "lastNotNull"
                   ],
                   "fields":"",
                   "values":false
                },
                "showThresholdLabels":false,
                "showThresholdMarkers":true
             },
             "pluginVersion":"8.3.4",
             "targets":[
                {
                   "expr":"sum(nats_varz_jetstream_stats_storage{pod=~\"$server\"})/sum(nats_varz_jetstream_config_max_storage{pod=~\"$server\"})",
                   "interval":"",
                   "legendFormat":"",
                   "refId":"A"
                }
             ],
             "title":"Storage Used",
             "type":"gauge"
          },
          {
             "fieldConfig":{
                "defaults":{
                   "mappings":[

                   ],
                   "min":0,
                   "thresholds":{
                      "mode":"percentage",
                      "steps":[
                         {
                            "color":"green",
                            "value":null
                         }
                      ]
                   },
                   "unit":"bytes"
                },
                "overrides":[

                ]
             },
             "gridPos":{
                "h":3,
                "w":5,
                "x":4,
                "y":0
             },
             "id":15,
             "options":{
                "colorMode":"value",
                "graphMode":"none",
                "justifyMode":"auto",
                "orientation":"auto",
                "reduceOptions":{
                   "calcs":[
                      "lastNotNull"
                   ],
                   "fields":"",
                   "values":false
                },
                "textMode":"auto"
             },
             "pluginVersion":"8.3.4",
             "targets":[
                {
                   "expr":"sum(nats_varz_jetstream_stats_storage{pod=~\"$server\"})",
                   "interval":"",
                   "legendFormat":"",
                   "refId":"A"
                }
             ],
             "title":"Total Storage Used",
             "type":"stat"
          },
          {
             "fieldConfig":{
                "defaults":{
                   "decimals":3,
                   "mappings":[

                   ],
                   "max":1,
                   "min":0,
                   "thresholds":{
                      "mode":"absolute",
                      "steps":[
                         {
                            "color":"green",
                            "value":null
                         },
                         {
                            "color":"#EAB839",
                            "value":0.75
                         },
                         {
                            "color":"red",
                            "value":0.9
                         }
                      ]
                   },
                   "unit":"percentunit"
                },
                "overrides":[

                ]
             },
             "gridPos":{
                "h":6,
                "w":4,
                "x":9,
                "y":0
             },
             "id":31,
             "options":{
                "orientation":"auto",
                "reduceOptions":{
                   "calcs":[
                      "lastNotNull"
                   ],
                   "fields":"",
                   "values":false
                },
                "showThresholdLabels":false,
                "showThresholdMarkers":true
             },
             "pluginVersion":"8.3.4",
             "targets":[
                {
                   "expr":"sum(nats_varz_jetstream_stats_memory{pod=~\"$server\"})/sum(nats_varz_jetstream_config_max_memory{pod=~\"$server\"})",
                   "interval":"",
                   "legendFormat":"",
                   "refId":"A"
                }
             ],
             "title":"Memory Used",
             "type":"gauge"
          },
          {
             "fieldConfig":{
                "defaults":{
                   "mappings":[

                   ],
                   "min":0,
                   "thresholds":{
                      "mode":"percentage",
                      "steps":[
                         {
                            "color":"green",
                            "value":null
                         }
                      ]
                   },
                   "unit":"bytes"
                },
                "overrides":[

                ]
             },
             "gridPos":{
                "h":3,
                "w":5,
                "x":13,
                "y":0
             },
             "id":32,
             "options":{
                "colorMode":"value",
                "graphMode":"none",
                "justifyMode":"auto",
                "orientation":"auto",
                "reduceOptions":{
                   "calcs":[
                      "lastNotNull"
                   ],
                   "fields":"",
                   "values":false
                },
                "textMode":"auto"
             },
             "pluginVersion":"8.3.4",
             "targets":[
                {
                   "expr":"sum(nats_varz_jetstream_stats_memory{pod=~\"$server\"})",
                   "interval":"",
                   "legendFormat":"",
                   "refId":"A"
                }
             ],
             "title":"Memory Used",
             "type":"stat"
          },
          {
             "fieldConfig":{
                "defaults":{
                   "mappings":[

                   ],
                   "min":0,
                   "noValue":"0",
                   "thresholds":{
                      "mode":"absolute",
                      "steps":[
                         {
                            "color":"green",
                            "value":null
                         },
                         {
                            "color":"red",
                            "value":80
                         }
                      ]
                   }
                },
                "overrides":[

                ]
             },
             "gridPos":{
                "h":3,
                "w":6,
                "x":18,
                "y":0
             },
             "id":14,
             "options":{
                "colorMode":"value",
                "graphMode":"area",
                "justifyMode":"auto",
                "orientation":"auto",
                "reduceOptions":{
                   "calcs":[
                      "lastNotNull"
                   ],
                   "fields":"",
                   "values":false
                },
                "textMode":"auto"
             },
             "pluginVersion":"8.3.4",
             "targets":[
                {
                   "expr":"sum(nats_varz_connections{pod=~\"$server\"})",
                   "interval":"",
                   "legendFormat":"",
                   "refId":"A"
                }
             ],
             "title":"Connections",
             "type":"stat"
          },
          {
             "fieldConfig":{
                "defaults":{
                   "mappings":[

                   ],
                   "min":0,
                   "thresholds":{
                      "mode":"percentage",
                      "steps":[
                         {
                            "color":"green",
                            "value":null
                         }
                      ]
                   },
                   "unit":"bytes"
                },
                "overrides":[

                ]
             },
             "gridPos":{
                "h":3,
                "w":5,
                "x":4,
                "y":3
             },
             "id":30,
             "options":{
                "colorMode":"value",
                "graphMode":"none",
                "justifyMode":"auto",
                "orientation":"auto",
                "reduceOptions":{
                   "calcs":[
                      "lastNotNull"
                   ],
                   "fields":"",
                   "values":false
                },
                "textMode":"auto"
             },
             "pluginVersion":"8.3.4",
             "targets":[
                {
                   "expr":"sum(nats_varz_jetstream_config_max_storage{pod=~\"$server\"})",
                   "interval":"",
                   "legendFormat":"",
                   "refId":"A"
                }
             ],
             "title":"Max Storage",
             "type":"stat"
          },
          {
             "fieldConfig":{
                "defaults":{
                   "mappings":[

                   ],
                   "min":0,
                   "thresholds":{
                      "mode":"percentage",
                      "steps":[
                         {
                            "color":"green",
                            "value":null
                         }
                      ]
                   },
                   "unit":"bytes"
                },
                "overrides":[

                ]
             },
             "gridPos":{
                "h":3,
                "w":5,
                "x":13,
                "y":3
             },
             "id":33,
             "options":{
                "colorMode":"value",
                "graphMode":"none",
                "justifyMode":"auto",
                "orientation":"auto",
                "reduceOptions":{
                   "calcs":[
                      "lastNotNull"
                   ],
                   "fields":"",
                   "values":false
                },
                "textMode":"auto"
             },
             "pluginVersion":"8.3.4",
             "targets":[
                {
                   "expr":"sum(nats_varz_jetstream_config_max_memory{pod=~\"$server\"})",
                   "interval":"",
                   "legendFormat":"",
                   "refId":"A"
                }
             ],
             "title":"Total Memory",
             "type":"stat"
          },
          {
             "fieldConfig":{
                "defaults":{
                   "mappings":[

                   ],
                   "min":0,
                   "thresholds":{
                      "mode":"absolute",
                      "steps":[
                         {
                            "color":"green",
                            "value":null
                         },
                         {
                            "color":"red",
                            "value":80
                         }
                      ]
                   }
                },
                "overrides":[

                ]
             },
             "gridPos":{
                "h":3,
                "w":6,
                "x":18,
                "y":3
             },
             "id":29,
             "options":{
                "colorMode":"value",
                "graphMode":"area",
                "justifyMode":"auto",
                "orientation":"auto",
                "reduceOptions":{
                   "calcs":[
                      "lastNotNull"
                   ],
                   "fields":"",
                   "values":false
                },
                "textMode":"auto"
             },
             "pluginVersion":"8.3.4",
             "targets":[
                {
                   "expr":"sum(nats_server_total_consumers{pod=~\"$server\"})",
                   "interval":"",
                   "legendFormat":"",
                   "refId":"A"
                }
             ],
             "title":"Total Consumers",
             "type":"stat"
          },
          {
             "collapsed":false,
             "gridPos":{
                "h":1,
                "w":24,
                "x":0,
                "y":6
             },
             "id":19,
             "panels":[

             ],
             "title":"Stream metrics",
             "type":"row"
          },
          {
             "fieldConfig":{
                "defaults":{
                   "color":{
                      "mode":"palette-classic"
                   },
                   "custom":{
                      "axisLabel":"",
                      "axisPlacement":"auto",
                      "barAlignment":0,
                      "drawStyle":"line",
                      "fillOpacity":10,
                      "gradientMode":"none",
                      "hideFrom":{
                         "legend":false,
                         "tooltip":false,
                         "viz":false
                      },
                      "lineInterpolation":"linear",
                      "lineWidth":1,
                      "pointSize":5,
                      "scaleDistribution":{
                         "type":"linear"
                      },
                      "showPoints":"never",
                      "spanNulls":true,
                      "stacking":{
                         "group":"A",
                         "mode":"none"
                      },
                      "thresholdsStyle":{
                         "mode":"off"
                      }
                   },
                   "mappings":[

                   ],
                   "thresholds":{
                      "mode":"absolute",
                      "steps":[
                         {
                            "color":"green",
                            "value":null
                         },
                         {
                            "color":"red",
                            "value":80
                         }
                      ]
                   },
                   "unit":"bytes"
                },
                "overrides":[

                ]
             },
             "gridPos":{
                "h":6,
                "w":8,
                "x":0,
                "y":7
             },
             "id":17,
             "options":{
                "legend":{
                   "calcs":[

                   ],
                   "displayMode":"list",
                   "placement":"bottom"
                },
                "tooltip":{
                   "mode":"single"
                }
             },
             "pluginVersion":"8.3.4",
             "targets":[
                {
                   "expr":"sum(nats_stream_total_bytes) by (stream_name)",
                   "interval":"",
                   "legendFormat":"{{stream_name}}",
                   "refId":"A"
                }
             ],
             "title":"Stream data size",
             "type":"timeseries"
          },
          {
             "fieldConfig":{
                "defaults":{
                   "color":{
                      "mode":"palette-classic"
                   },
                   "custom":{
                      "axisLabel":"",
                      "axisPlacement":"auto",
                      "barAlignment":0,
                      "drawStyle":"line",
                      "fillOpacity":10,
                      "gradientMode":"none",
                      "hideFrom":{
                         "legend":false,
                         "tooltip":false,
                         "viz":false
                      },
                      "lineInterpolation":"linear",
                      "lineWidth":1,
                      "pointSize":5,
                      "scaleDistribution":{
                         "type":"linear"
                      },
                      "showPoints":"never",
                      "spanNulls":true,
                      "stacking":{
                         "group":"A",
                         "mode":"none"
                      },
                      "thresholdsStyle":{
                         "mode":"off"
                      }
                   },
                   "mappings":[

                   ],
                   "thresholds":{
                      "mode":"absolute",
                      "steps":[
                         {
                            "color":"green",
                            "value":null
                         },
                         {
                            "color":"red",
                            "value":80
                         }
                      ]
                   },
                   "unit":"short"
                },
                "overrides":[

                ]
             },
             "gridPos":{
                "h":6,
                "w":8,
                "x":8,
                "y":7
             },
             "id":24,
             "options":{
                "legend":{
                   "calcs":[

                   ],
                   "displayMode":"list",
                   "placement":"bottom"
                },
                "tooltip":{
                   "mode":"single"
                }
             },
             "pluginVersion":"8.3.4",
             "targets":[
                {
                   "expr":"sum(nats_stream_total_messages) by (stream_name)",
                   "interval":"",
                   "legendFormat":"{{stream_name}}",
                   "refId":"A"
                }
             ],
             "title":"Stream message count",
             "type":"timeseries"
          },
          {
             "fieldConfig":{
                "defaults":{
                   "color":{
                      "mode":"palette-classic"
                   },
                   "custom":{
                      "axisLabel":"",
                      "axisPlacement":"auto",
                      "barAlignment":0,
                      "drawStyle":"line",
                      "fillOpacity":10,
                      "gradientMode":"none",
                      "hideFrom":{
                         "legend":false,
                         "tooltip":false,
                         "viz":false
                      },
                      "lineInterpolation":"linear",
                      "lineWidth":1,
                      "pointSize":5,
                      "scaleDistribution":{
                         "type":"linear"
                      },
                      "showPoints":"never",
                      "spanNulls":true,
                      "stacking":{
                         "group":"A",
                         "mode":"none"
                      },
                      "thresholdsStyle":{
                         "mode":"off"
                      }
                   },
                   "mappings":[

                   ],
                   "thresholds":{
                      "mode":"absolute",
                      "steps":[
                         {
                            "color":"green",
                            "value":null
                         },
                         {
                            "color":"red",
                            "value":80
                         }
                      ]
                   },
                   "unit":"mps"
                },
                "overrides":[

                ]
             },
             "gridPos":{
                "h":6,
                "w":8,
                "x":16,
                "y":7
             },
             "id":20,
             "options":{
                "legend":{
                   "calcs":[

                   ],
                   "displayMode":"list",
                   "placement":"bottom"
                },
                "tooltip":{
                   "mode":"single"
                }
             },
             "pluginVersion":"8.3.4",
             "targets":[
                {
                   "expr":"sum(rate(nats_stream_total_messages{pod=~\"$server\",stream_name=~\"$stream\"}[$__rate_interval])) by (stream_name)",
                   "hide":false,
                   "interval":"",
                   "legendFormat":"{{stream_name}}",
                   "refId":"A"
                }
             ],
             "title":"Message Rate (per second)",
             "type":"timeseries"
          },
          {
             "collapsed":false,
             "gridPos":{
                "h":1,
                "w":24,
                "x":0,
                "y":13
             },
             "id":23,
             "panels":[

             ],
             "title":"Consumer Metrics",
             "type":"row"
          },
          {
             "description":"Messages added & processed per minute per consumer",
             "fieldConfig":{
                "defaults":{
                   "color":{
                      "mode":"palette-classic"
                   },
                   "custom":{
                      "axisLabel":"",
                      "axisPlacement":"auto",
                      "barAlignment":0,
                      "drawStyle":"line",
                      "fillOpacity":10,
                      "gradientMode":"none",
                      "hideFrom":{
                         "legend":false,
                         "tooltip":false,
                         "viz":false
                      },
                      "lineInterpolation":"linear",
                      "lineWidth":1,
                      "pointSize":5,
                      "scaleDistribution":{
                         "type":"linear"
                      },
                      "showPoints":"never",
                      "spanNulls":true,
                      "stacking":{
                         "group":"A",
                         "mode":"none"
                      },
                      "thresholdsStyle":{
                         "mode":"off"
                      }
                   },
                   "mappings":[

                   ],
                   "thresholds":{
                      "mode":"absolute",
                      "steps":[
                         {
                            "color":"green",
                            "value":null
                         },
                         {
                            "color":"red",
                            "value":80
                         }
                      ]
                   },
                   "unit":"mps"
                },
                "overrides":[

                ]
             },
             "gridPos":{
                "h":6,
                "w":24,
                "x":0,
                "y":14
             },
             "id":25,
             "options":{
                "legend":{
                   "calcs":[

                   ],
                   "displayMode":"list",
                   "placement":"right"
                },
                "tooltip":{
                   "mode":"single"
                }
             },
             "pluginVersion":"8.3.4",
             "targets":[
                {
                   "expr":"sum(rate(nats_consumer_num_pending{pod=~\"$server\",stream_name=~\"$stream\",consumer_name=~\"$consumer\"}[$__rate_interval])+rate(nats_consumer_delivered_consumer_seq{pod=~\"$server\",stream_name=~\"$stream\",consumer_name=~\"$consumer\"}[$__rate_interval])) by (consumer_name)",
                   "hide":false,
                   "instant":false,
                   "interval":"",
                   "intervalFactor":1,
                   "legendFormat":"{{consumer_name}} +",
                   "refId":"B"
                },
                {
                   "expr":"- sum(rate(nats_consumer_delivered_consumer_seq{pod=~\"$server\",stream_name=~\"$stream\",consumer_name=~\"$consumer\",consumer_name=~\"$consumer\"}[$__rate_interval])) by (consumer_name)",
                   "hide":false,
                   "interval":"",
                   "legendFormat":"{{consumer_name}} -",
                   "refId":"A"
                }
             ],
             "title":"Messages per second (++/--)",
             "type":"timeseries"
          },
          {
             "fieldConfig":{
                "defaults":{
                   "color":{
                      "mode":"palette-classic"
                   },
                   "custom":{
                      "axisLabel":"",
                      "axisPlacement":"auto",
                      "barAlignment":0,
                      "drawStyle":"line",
                      "fillOpacity":10,
                      "gradientMode":"none",
                      "hideFrom":{
                         "legend":false,
                         "tooltip":false,
                         "viz":false
                      },
                      "lineInterpolation":"linear",
                      "lineWidth":1,
                      "pointSize":5,
                      "scaleDistribution":{
                         "type":"linear"
                      },
                      "showPoints":"never",
                      "spanNulls":true,
                      "stacking":{
                         "group":"A",
                         "mode":"none"
                      },
                      "thresholdsStyle":{
                         "mode":"off"
                      }
                   },
                   "mappings":[

                   ],
                   "thresholds":{
                      "mode":"absolute",
                      "steps":[
                         {
                            "color":"green",
                            "value":null
                         },
                         {
                            "color":"red",
                            "value":80
                         }
                      ]
                   },
                   "unit":"short"
                },
                "overrides":[

                ]
             },
             "gridPos":{
                "h":6,
                "w":8,
                "x":0,
                "y":20
             },
             "id":21,
             "options":{
                "legend":{
                   "calcs":[

                   ],
                   "displayMode":"list",
                   "placement":"bottom"
                },
                "tooltip":{
                   "mode":"single"
                }
             },
             "pluginVersion":"8.3.4",
             "targets":[
                {
                   "expr":"sum(nats_consumer_delivered_consumer_seq{pod=~\"$server\",stream_name=~\"$stream\",consumer_name=~\"$consumer\"}) by (consumer_name)",
                   "hide":false,
                   "interval":"",
                   "legendFormat":"{{consumer_name}}",
                   "refId":"A"
                }
             ],
             "title":"Total delivered messages",
             "type":"timeseries"
          },
          {
             "fieldConfig":{
                "defaults":{
                   "color":{
                      "mode":"palette-classic"
                   },
                   "custom":{
                      "axisLabel":"",
                      "axisPlacement":"auto",
                      "barAlignment":0,
                      "drawStyle":"line",
                      "fillOpacity":10,
                      "gradientMode":"none",
                      "hideFrom":{
                         "legend":false,
                         "tooltip":false,
                         "viz":false
                      },
                      "lineInterpolation":"linear",
                      "lineWidth":1,
                      "pointSize":5,
                      "scaleDistribution":{
                         "type":"linear"
                      },
                      "showPoints":"never",
                      "spanNulls":true,
                      "stacking":{
                         "group":"A",
                         "mode":"none"
                      },
                      "thresholdsStyle":{
                         "mode":"off"
                      }
                   },
                   "mappings":[

                   ],
                   "min":0,
                   "thresholds":{
                      "mode":"absolute",
                      "steps":[
                         {
                            "color":"green",
                            "value":null
                         },
                         {
                            "color":"red",
                            "value":80
                         }
                      ]
                   },
                   "unit":"short"
                },
                "overrides":[

                ]
             },
             "gridPos":{
                "h":6,
                "w":8,
                "x":8,
                "y":20
             },
             "id":26,
             "options":{
                "legend":{
                   "calcs":[

                   ],
                   "displayMode":"list",
                   "placement":"bottom"
                },
                "tooltip":{
                   "mode":"single"
                }
             },
             "pluginVersion":"8.3.4",
             "targets":[
                {
                   "expr":"sum(nats_consumer_num_pending{pod=~\"$server\",stream_name=~\"$stream\",consumer_name=~\"$consumer\"}) by (consumer_name)",
                   "hide":false,
                   "interval":"",
                   "legendFormat":"{{consumer_name}}",
                   "refId":"A"
                }
             ],
             "title":"Pending messages",
             "type":"timeseries"
          },
          {
             "fieldConfig":{
                "defaults":{
                   "color":{
                      "mode":"palette-classic"
                   },
                   "custom":{
                      "axisLabel":"",
                      "axisPlacement":"auto",
                      "barAlignment":0,
                      "drawStyle":"line",
                      "fillOpacity":10,
                      "gradientMode":"none",
                      "hideFrom":{
                         "legend":false,
                         "tooltip":false,
                         "viz":false
                      },
                      "lineInterpolation":"linear",
                      "lineWidth":1,
                      "pointSize":5,
                      "scaleDistribution":{
                         "type":"linear"
                      },
                      "showPoints":"never",
                      "spanNulls":true,
                      "stacking":{
                         "group":"A",
                         "mode":"none"
                      },
                      "thresholdsStyle":{
                         "mode":"off"
                      }
                   },
                   "mappings":[

                   ],
                   "min":0,
                   "thresholds":{
                      "mode":"absolute",
                      "steps":[
                         {
                            "color":"green",
                            "value":null
                         },
                         {
                            "color":"red",
                            "value":80
                         }
                      ]
                   },
                   "unit":"short"
                },
                "overrides":[

                ]
             },
             "gridPos":{
                "h":6,
                "w":8,
                "x":16,
                "y":20
             },
             "id":27,
             "options":{
                "legend":{
                   "calcs":[

                   ],
                   "displayMode":"list",
                   "placement":"bottom"
                },
                "tooltip":{
                   "mode":"single"
                }
             },
             "pluginVersion":"8.3.4",
             "targets":[
                {
                   "expr":"sum(nats_consumer_num_ack_pending{pod=~\"$server\",stream_name=~\"$stream\",consumer_name=~\"$consumer\"}) by (consumer_name)",
                   "hide":false,
                   "interval":"",
                   "legendFormat":"{{consumer_name}}",
                   "refId":"A"
                }
             ],
             "title":"Message Acks Pending",
             "type":"timeseries"
          }
       ],
       "refresh":"10s",
       "schemaVersion":34,
       "style":"dark",
       "tags":[

       ],
       "templating":{
          "list":[
             {
                "current":{

                },
                "definition":"label_values(nats_server_total_streams, pod)",
                "hide":0,
                "includeAll":true,
                "label":"Server",
                "multi":true,
                "name":"server",
                "options":[

                ],
                "query":{
                   "query":"label_values(nats_server_total_streams, pod)",
                   "refId":"StandardVariableQuery"
                },
                "refresh":2,
                "regex":"",
                "skipUrlSync":false,
                "sort":0,
                "tagValuesQuery":"",
                "tagsQuery":"",
                "type":"query",
                "useTags":false,
                "datasource":"Prometheus"
             },
             {
                "current":{

                },
                "definition":"label_values(nats_stream_last_seq, stream_name)",
                "hide":0,
                "includeAll":true,
                "label":"Stream",
                "multi":true,
                "name":"stream",
                "options":[

                ],
                "query":{
                   "query":"label_values(nats_stream_last_seq, stream_name)",
                   "refId":"StandardVariableQuery"
                },
                "refresh":2,
                "regex":"",
                "skipUrlSync":false,
                "sort":0,
                "tagValuesQuery":"",
                "tagsQuery":"",
                "type":"query",
                "useTags":false,
                "datasource":"Prometheus"
             },
             {
                "current":{

                },
                "definition":"label_values(nats_consumer_num_pending, consumer_name)",
                "hide":0,
                "includeAll":true,
                "label":"Consumer",
                "multi":true,
                "name":"consumer",
                "options":[

                ],
                "query":{
                   "query":"label_values(nats_consumer_num_pending, consumer_name)",
                   "refId":"StandardVariableQuery"
                },
                "refresh":2,
                "regex":"",
                "skipUrlSync":false,
                "sort":0,
                "tagValuesQuery":"",
                "tagsQuery":"",
                "type":"query",
                "useTags":false,
                "datasource":"Prometheus"
             }
          ]
       },
       "time":{
          "from":"now-1h",
          "to":"now"
       },
       "timepicker":{
          "refresh_intervals":[
             "5s",
             "10s",
             "30s",
             "1m",
             "5m",
             "15m",
             "30m",
             "1h",
             "2h",
             "1d"
          ],
          "time_options":[
             "5m",
             "15m",
             "1h",
             "6h",
             "12h",
             "24h",
             "2d",
             "7d",
             "30d"
          ]
       },
       "timezone":"",
       "title":"Kyma / Eventing / NATS JetStream",
       "uid":"a7701ad8b41b11ecb9090242ac120002",
       "version":1,
       "weekStart":""
    }`}}
{{- end }}
