# override name to avoid collision with knative eventing resources
nameOverride:
replicaCount: 1
serviceAccount:
  # name defines optionally another name than the default name for the service account
  name: ""
  annotations: ""


clusterRole:
  # name defines optionally another name than the default name for the cluster role
  name: ""

podSecurityContext:

bebSecret:
  nameSuffix: "-beb-oauth2"

resources:
  limits:
    cpu: 300m
    memory: 100Mi
  requests:
    cpu: 100m
    memory: 20Mi

publisherProxy:
  image:
    pullPolicy: IfNotPresent
  requestTimeout: 10s
  replicas: 1
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 32m
      memory: 64Mi

metrics:
  service:
    nameSuffix: "-metrics"
  config:
    port: 8080
    portName: http-metrics
    nameSuffix: "-metrics"
    interval: 30s

clusterRoleBindingSuffix: ""

eventingBackend:
  name: eventing-backend
  defaultMaxInflightMessages: 10
  defaultDispatcherRetryPeriod: 5m
  defaultDispatcherMaxRetries: 10

healthProbe:
  port: 8081
  scheme: HTTP
  liveness:
    service:
      path: "/healthz"
    failureThreshold: 3
    initialDelaySeconds: 5
    periodSeconds: 10
    successThreshold: 1
    timeoutSeconds: 2
  readiness:
    service:
      path: "/readyz"
    failureThreshold: 3
    initialDelaySeconds: 10
    periodSeconds: 3
    successThreshold: 1
    timeoutSeconds: 2

jetstream:
  # Configs for the stream used for storing events
  # Name of the JetStream stream where all events are stored.
  streamName: sap
  # Subject prefix for the JetStream stream when eventTypePrefix is not provided.
  subjectPrefix: kyma
  # Retention policy determines when messages should be deleted from the stream:
  # (more info https://docs.nats.io/using-nats/developer/develop_jetstream/model_deep_dive#stream-limits-retention-and-policy):
  # - interest: when all known observables have acknowledged a message it can be removed.
  # - limits: messages are retained until any given limit is reached. This can be configured via maxMessages and maxBytes.
  retentionPolicy: interest
  # Consumer deliver policy determines from where in the stream a consumer should start receiving messages
  # (more info https://docs.nats.io/nats-concepts/jetstream/consumers#deliverpolicy-optstartseq-optstarttime):
  # - all: The consumer will start receiving from the earliest available message.
  # - last: When first consuming messages, the consumer will start receiving messages with the last message
  #   added to the stream, so the very last message in the stream when the server realizes the consumer is ready.
  # - last_per_subject: When first consuming messages, start with the latest one for each filtered subject
  #   currently in the stream.
  # - new: When first consuming messages, the consumer will only start receiving messages that were created
  #   after the consumer was created.
  consumerDeliverPolicy: new
  maxMessages: -1 # no limit
  maxBytes: -1
