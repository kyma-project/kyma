apiVersion: v1
kind: ConfigMap
metadata:
  name: dockerfile-nodejs-12
  namespace: {{ .Release.Namespace }}
  labels:
    serverless.kyma-project.io/config: runtime
    serverless.kyma-project.io/runtime: nodejs12
data:
  Dockerfile: |-
    FROM {{ .Values.images.runtimes.nodejs12.repository}}:{{ .Values.images.runtimes.nodejs12.tag }}
    USER root
    ENV KUBELESS_INSTALL_VOLUME=/kubeless
    
    COPY /src $KUBELESS_INSTALL_VOLUME
    RUN /kubeless-npm-install.sh

    USER 1000
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: dockerfile-nodejs-10
  namespace: {{ .Release.Namespace }}
  labels:
    serverless.kyma-project.io/config: runtime
    serverless.kyma-project.io/runtime: nodejs10
data:
  Dockerfile: |-
    FROM {{ .Values.images.runtimes.nodejs10.repository}}:{{ .Values.images.runtimes.nodejs10.tag }}
    USER root
    ENV KUBELESS_INSTALL_VOLUME=/kubeless
    
    COPY /src $KUBELESS_INSTALL_VOLUME
    RUN /kubeless-npm-install.sh

    USER 1000
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: dockerfile-python-37
  namespace: {{ .Release.Namespace }}
  labels:
    serverless.kyma-project.io/config: runtime
    serverless.kyma-project.io/runtime: python37
data:
  Dockerfile: |-
    FROM {{ .Values.images.runtimes.python37.repository}}:{{ .Values.images.runtimes.python37.tag }}
    USER root
    ENV KUBELESS_INSTALL_VOLUME=/kubeless
    
    COPY /src /
    RUN pip install -r /requirements.txt

    USER 1000