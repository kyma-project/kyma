{{- if .Values.clusterMicroFrontend.enabled }}
apiVersion: "ui.kyma-project.io/v1alpha1"
kind: ClusterMicroFrontend
metadata:
  name: serverless
  labels:
    {{- include "tplValue" ( dict "value" .Values.global.commonLabels "context" . ) | nindent 4 }}
spec:
  displayName: Functions
  version: v1
  category: Workloads
  placement: namespace
  viewBaseUrl: core-ui
  navigationNodes:
    - label: Functions
      navigationPath: functions
      viewUrl: "/namespaces/:namespaceId/functions?hasDetailsView=true&resourceApiPath=/apis/serverless.kyma-project.io/v1alpha1"
      order: -1
      viewGroup: "_core_ui_"
      requiredBackendModules:
        - serverless
    - label: Functions Details
      navigationPath: functions/details
      showInNavigation: false
      viewGroup: "_core_ui_"
    - label: Function Details
      navigationPath: functions/details/:functionId
      viewUrl: '/namespaces/:namespaceId/functions/:functionId?resourceApiPath=/apis/serverless.kyma-project.io/v1alpha1'
      showInNavigation: false
      viewGroup: "_core_ui_"

    - label: Git Repositories
      navigationPath: gitrepositories
      viewUrl: "/namespaces/:namespaceId/gitrepositories?hasDetailsView=true&resourceApiPath=/apis/serverless.kyma-project.io/v1alpha1"
      order: -1
      viewGroup: "_core_ui_"
      requiredBackendModules:
        - serverless
    - label: Git Repositories Details
      navigationPath: gitrepositories/details
      showInNavigation: false
      viewGroup: "_core_ui_"
    - label: Git Repositories Details
      navigationPath: gitrepositories/details/:gitId
      viewUrl: '/namespaces/:namespaceId/gitrepositories/:gitId?resourceApiPath=/apis/serverless.kyma-project.io/v1alpha1'
      showInNavigation: false
      viewGroup: "_core_ui_"
{{- end }}
