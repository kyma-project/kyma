{{- if and (eq .Values.global.tenantConfig.useExternalTenants true) (eq .Values.global.tenantConfig.useExternalTenantsConfigMapFromChart true) }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ template "fullname" . }}-external-tenant-config
  namespace: {{ .Release.Namespace }}
  labels:
    app: {{ .Chart.Name }}
    release: {{ .Release.Name }}
data:
  tenants.json: |-
    [
      {
        "name": "tenant-name-1",
        "id": "tenant-id-1"
      },
      {
        "name": "tenant-name-2",
        "id": "tenant-id-2"
      }
    ]
{{end}}
