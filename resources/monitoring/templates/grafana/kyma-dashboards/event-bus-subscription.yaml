apiVersion: v1
kind: ConfigMap
metadata:
  name: event-bus-subscription-dashboard
  labels:
    grafana_dashboard: "1"
    app: monitoring-grafana
data:
  event-bus-subscription-dashboard.json: |-
    {"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"iteration":1557922635828,"links":[],"panels":[{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#F2495C","#FF9830","#56A64B"],"datasource":"Prometheus","description":"","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":7,"w":7,"x":0,"y":0},"id":4,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"Value","targets":[{"expr":"total_kyma_subscriptions{exported_namespace=~\"$kyma_subscription_namespace\",name=~\"$kyma_subscription_name\",ready=\"true\"} OR on() vector(0)","format":"time_series","hide":false,"instant":true,"intervalFactor":1,"refId":"A"}],"thresholds":"1,2","timeFrom":null,"timeShift":null,"title":"Kyma Subscription Status","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"},{"op":"=","text":"READY","value":"1"},{"op":"=","text":"NOT READY","value":"0"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorPostfix":false,"colorValue":true,"colors":["#F2495C","#FF9830","#299c46"],"datasource":"Prometheus","description":"","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":7,"w":8,"x":8,"y":0},"id":10,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"total_knative_subscriptions{exported_namespace=~\"$kyma_subscription_namespace\", name=~\"$kyma_subscription_name\", ready=\"true\"} OR on() vector(0)","format":"time_series","instant":true,"intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"1,2","timeFrom":null,"timeShift":null,"title":"Knative Subscription Status","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"},{"op":"=","text":"READY","value":"1"},{"op":"=","text":"NOT READY","value":"0"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#F2495C","#FF9830","#299c46"],"datasource":"Prometheus","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":7,"w":7,"x":17,"y":0},"id":8,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"total_knative_channels{name=~\"$kyma_subscription_name\"} OR on() vector(0)","format":"time_series","instant":true,"intervalFactor":1,"refId":"A"}],"thresholds":"1,2","timeFrom":null,"timeShift":null,"title":"Knative Channels Status","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"},{"op":"=","text":"READY","value":"1"},{"op":"=","text":"NOT READY","value":"0"}],"valueName":"avg"}],"schemaVersion":18,"style":"dark","tags":[],"templating":{"list":[{"allValue":null,"current":{"text":"default","value":"default"},"datasource":"Prometheus","definition":"label_values(total_kyma_subscriptions, exported_namespace)","hide":0,"includeAll":false,"label":"Namespace","multi":false,"name":"kyma_subscription_namespace","options":[],"query":"label_values(total_kyma_subscriptions, exported_namespace)","refresh":1,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{"text":"All","value":"$__all"},"datasource":"Prometheus","definition":"label_values(total_kyma_subscriptions{exported_namespace=\"$kyma_subscription_namespace\"}, name)","hide":0,"includeAll":true,"label":"Kyma Subscription Name","multi":false,"name":"kyma_subscription_name","options":[],"query":"label_values(total_kyma_subscriptions{exported_namespace=\"$kyma_subscription_namespace\"}, name)","refresh":1,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-5m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"","title":"Event Bus Subscription","uid":"Rds51KmWk","version":1}