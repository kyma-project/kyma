apiVersion: v1
kind: ConfigMap
metadata:
  name: webapps-dashboard
  labels:
    grafana_dashboard: "1"
    app: monitoring-grafana
data:
  webapps-dashboard.json: |-
    {
      "annotations":{
        "list":[
        {
          "builtIn":1,
          "datasource":"-- Grafana --",
          "enable":true,
          "hide":true,
          "iconColor":"rgba(0, 211, 255, 1)",
          "name":"Annotations & Alerts",
          "type":"dashboard"
        }
        ]
      },
      "editable":false,
      "gnetId":null,
      "graphTooltip":0,
      "id":25,
      "iteration":1552912407378,
      "links":[

      ],
      "panels":[
      {
        "aliasColors":{

        },
        "bars":false,
        "dashLength":10,
        "dashes":false,
        "datasource":"Prometheus",
        "fill":1,
        "gridPos":{
          "h":9,
          "w":12,
          "x":0,
          "y":0
        },
        "id":32,
        "legend":{
          "avg":false,
          "current":false,
          "max":false,
          "min":false,
          "show":true,
          "total":false,
          "values":false
        },
        "lines":true,
        "linewidth":1,
        "links":[

        ],
        "nullPointMode":"null",
        "percentage":false,
        "pointradius":5,
        "points":false,
        "renderer":"flot",
        "seriesOverrides":[

        ],
        "spaceLength":10,
        "stack":false,
        "steppedLine":false,
        "targets":[
        {
          "expr":"histogram_quantile(0.50, sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\",destination_service_name=~\"$ui\"}[1m])) by (le))",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"Histogram 50 Quantile",
          "refId":"A"
        },
        {
          "expr":"histogram_quantile(0.90, sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\",destination_service_name=~\"$ui\"}[1m])) by (le))",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"Histogram 90 Quantile",
          "refId":"B"
        },
        {
          "expr":"histogram_quantile(0.99, sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\",destination_service_name=~\"$ui\"}[1m])) by (le))",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"Histogram 99 Quantile",
          "refId":"C"
        }
        ],
        "thresholds":[

        ],
        "timeFrom":null,
        "timeShift":null,
        "title":"Server Request Duration",
        "tooltip":{
          "shared":true,
          "sort":0,
          "value_type":"individual"
        },
        "type":"graph",
        "xaxis":{
          "buckets":null,
          "mode":"time",
          "name":null,
          "show":true,
          "values":[

          ]
        },
        "yaxes":[
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        },
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        }
        ],
        "yaxis":{
          "align":false,
          "alignLevel":null
        }
      },
      {
        "aliasColors":{

        },
        "bars":false,
        "dashLength":10,
        "dashes":false,
        "datasource":"Prometheus",
        "fill":1,
        "gridPos":{
          "h":9,
          "w":12,
          "x":12,
          "y":0
        },
        "id":30,
        "legend":{
          "avg":false,
          "current":false,
          "max":false,
          "min":false,
          "show":true,
          "total":false,
          "values":false
        },
        "lines":true,
        "linewidth":1,
        "links":[

        ],
        "nullPointMode":"null",
        "percentage":false,
        "pointradius":5,
        "points":false,
        "renderer":"flot",
        "seriesOverrides":[

        ],
        "spaceLength":10,
        "stack":false,
        "steppedLine":false,
        "targets":[
        {
          "expr":"histogram_quantile(0.50, sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\",destination_service_name=~\"$ui\"}[1m])) by (le))",
          "format":"time_series",
          "hide":false,
          "intervalFactor":1,
          "legendFormat":"Histogram 50 Quantile",
          "refId":"A"
        },
        {
          "expr":"histogram_quantile(0.90, sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\",destination_service_name=~\"$ui\"}[1m])) by (le))",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"Histogram 90 Quantile",
          "refId":"B"
        },
        {
          "expr":"histogram_quantile(0.99, sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\",destination_service_name=~\"$ui\"}[1m])) by (le))",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"Histogram 99 Quantile",
          "refId":"C"
        }
        ],
        "thresholds":[

        ],
        "timeFrom":null,
        "timeShift":null,
        "title":"Client Request Duration",
        "tooltip":{
          "shared":true,
          "sort":0,
          "value_type":"individual"
        },
        "type":"graph",
        "xaxis":{
          "buckets":null,
          "mode":"time",
          "name":null,
          "show":true,
          "values":[

          ]
        },
        "yaxes":[
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        },
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        }
        ],
        "yaxis":{
          "align":false,
          "alignLevel":null
        }
      },
      {
        "aliasColors":{

        },
        "bars":false,
        "dashLength":10,
        "dashes":false,
        "datasource":"Prometheus",
        "fill":1,
        "gridPos":{
          "h":6,
          "w":12,
          "x":0,
          "y":9
        },
        "id":2,
        "legend":{
          "avg":false,
          "current":false,
          "max":false,
          "min":false,
          "show":true,
          "total":false,
          "values":false
        },
        "lines":true,
        "linewidth":1,
        "links":[

        ],
        "nullPointMode":"null",
        "percentage":false,
        "pointradius":5,
        "points":false,
        "renderer":"flot",
        "seriesOverrides":[

        ],
        "spaceLength":10,
        "stack":false,
        "steppedLine":false,
        "targets":[
        {
          "expr":"sum(irate(istio_requests_total{source_workload_namespace=~\"$namespace\",source_workload=\"$ui\"}[5m]))",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"",
          "refId":"A"
        }
        ],
        "thresholds":[

        ],
        "timeFrom":null,
        "timeShift":null,
        "title":"Rate of requests",
        "tooltip":{
          "shared":true,
          "sort":0,
          "value_type":"individual"
        },
        "type":"graph",
        "xaxis":{
          "buckets":null,
          "mode":"time",
          "name":null,
          "show":true,
          "values":[

          ]
        },
        "yaxes":[
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        },
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        }
        ],
        "yaxis":{
          "align":false,
          "alignLevel":null
        }
      },
      {
        "cacheTimeout":null,
        "colorBackground":false,
        "colorValue":false,
        "colors":[
          "#d44a3a",
          "rgba(237, 129, 40, 0.89)",
          "#299c46"
        ],
        "datasource":"Prometheus",
        "format":"percent",
        "gauge":{
          "maxValue":100,
          "minValue":0,
          "show":true,
          "thresholdLabels":false,
          "thresholdMarkers":true
        },
        "gridPos":{
          "h":6,
          "w":4,
          "x":12,
          "y":9
        },
        "id":4,
        "interval":null,
        "links":[

        ],
        "mappingType":1,
        "mappingTypes":[
        {
          "name":"value to text",
          "value":1
        },
        {
          "name":"range to text",
          "value":2
        }
        ],
        "maxDataPoints":100,
        "nullPointMode":"connected",
        "nullText":null,
        "postfix":"",
        "postfixFontSize":"50%",
        "prefix":"",
        "prefixFontSize":"50%",
        "rangeMaps":[
        {
          "from":"null",
          "text":"N/A",
          "to":"null"
        }
        ],
        "sparkline":{
          "fillColor":"rgba(31, 118, 189, 0.18)",
          "full":false,
          "lineColor":"rgb(31, 120, 193)",
          "show":false
        },
        "tableColumn":"",
        "targets":[
        {
          "expr":"sum(irate(istio_requests_total{destination_workload_namespace=~\"$namespace\",destination_workload=\"$ui\",response_code=~\"2.*\"}[15m])) / sum(irate(istio_requests_total{destination_workload_namespace=~\"$namespace\",destination_workload=\"$ui\"}[15m]))*100",
          "format":"time_series",
          "hide":false,
          "intervalFactor":1,
          "refId":"A"
        }
        ],
        "thresholds":"50,80",
        "title":"Incoming Success Rate (2xx)",
        "type":"singlestat",
        "valueFontSize":"80%",
        "valueMaps":[
        {
          "op":"=",
          "text":"0",
          "value":"null"
        }
        ],
        "valueName":"avg"
      },
      {
        "cacheTimeout":null,
        "colorBackground":false,
        "colorValue":false,
        "colors":[
          "#299c46",
          "rgba(237, 129, 40, 0.89)",
          "#d44a3a"
        ],
        "datasource":"Prometheus",
        "format":"percent",
        "gauge":{
          "maxValue":100,
          "minValue":0,
          "show":true,
          "thresholdLabels":false,
          "thresholdMarkers":true
        },
        "gridPos":{
          "h":6,
          "w":4,
          "x":16,
          "y":9
        },
        "id":8,
        "interval":null,
        "links":[

        ],
        "mappingType":1,
        "mappingTypes":[
        {
          "name":"value to text",
          "value":1
        },
        {
          "name":"range to text",
          "value":2
        }
        ],
        "maxDataPoints":100,
        "nullPointMode":"connected",
        "nullText":null,
        "postfix":"",
        "postfixFontSize":"50%",
        "prefix":"",
        "prefixFontSize":"50%",
        "rangeMaps":[
        {
          "from":"null",
          "text":"N/A",
          "to":"null"
        }
        ],
        "sparkline":{
          "fillColor":"rgba(31, 118, 189, 0.18)",
          "full":false,
          "lineColor":"rgb(31, 120, 193)",
          "show":false
        },
        "tableColumn":"",
        "targets":[
        {
          "expr":"sum(irate(istio_requests_total{destination_workload_namespace=~\"$namespace\",destination_workload=\"$ui\",response_code=~\"5.*\"}[5m])) / sum(irate(istio_requests_total{destination_workload_namespace=~\"$namespace\",destination_workload=\"$ui\"}[5m]))",
          "format":"time_series",
          "intervalFactor":1,
          "refId":"A"
        }
        ],
        "thresholds":"50,80",
        "title":"Incoming Error Rates(5xx)",
        "type":"singlestat",
        "valueFontSize":"80%",
        "valueMaps":[
        {
          "op":"=",
          "text":"0",
          "value":"null"
        }
        ],
        "valueName":"avg"
      },
      {
        "cacheTimeout":null,
        "colorBackground":false,
        "colorValue":false,
        "colors":[
          "#299c46",
          "rgba(237, 129, 40, 0.89)",
          "#d44a3a"
        ],
        "datasource":"Prometheus",
        "format":"percent",
        "gauge":{
          "maxValue":100,
          "minValue":0,
          "show":true,
          "thresholdLabels":false,
          "thresholdMarkers":true
        },
        "gridPos":{
          "h":6,
          "w":4,
          "x":20,
          "y":9
        },
        "id":6,
        "interval":null,
        "links":[

        ],
        "mappingType":1,
        "mappingTypes":[
        {
          "name":"value to text",
          "value":1
        },
        {
          "name":"range to text",
          "value":2
        }
        ],
        "maxDataPoints":100,
        "nullPointMode":"connected",
        "nullText":null,
        "postfix":"",
        "postfixFontSize":"50%",
        "prefix":"",
        "prefixFontSize":"50%",
        "rangeMaps":[
        {
          "from":"null",
          "text":"N/A",
          "to":"null"
        }
        ],
        "sparkline":{
          "fillColor":"rgba(31, 118, 189, 0.18)",
          "full":false,
          "lineColor":"rgb(31, 120, 193)",
          "show":false
        },
        "tableColumn":"",
        "targets":[
        {
          "expr":"sum(irate(istio_requests_total{destination_workload_namespace=~\"$namespace\",destination_workload=\"$ui\",response_code=~\"4.*\"}[5m])) / sum(irate(istio_requests_total{destination_workload_namespace=~\"$namespace\",destination_workload=\"$ui\"}[5m]))",
          "format":"time_series",
          "intervalFactor":1,
          "refId":"A"
        }
        ],
        "thresholds":"50,80",
        "title":"Incoming Failure rate (4xx Errors)",
        "type":"singlestat",
        "valueFontSize":"80%",
        "valueMaps":[
        {
          "op":"=",
          "text":"0",
          "value":"null"
        }
        ],
        "valueName":"avg"
      },
      {
        "aliasColors":{

        },
        "bars":false,
        "dashLength":10,
        "dashes":false,
        "datasource":"Prometheus",
        "fill":1,
        "gridPos":{
          "h":8,
          "w":24,
          "x":0,
          "y":15
        },
        "id":10,
        "legend":{
          "avg":false,
          "current":false,
          "max":false,
          "min":false,
          "show":true,
          "total":false,
          "values":false
        },
        "lines":true,
        "linewidth":1,
        "links":[

        ],
        "nullPointMode":"null",
        "percentage":false,
        "pointradius":5,
        "points":false,
        "renderer":"flot",
        "seriesOverrides":[

        ],
        "spaceLength":10,
        "stack":false,
        "steppedLine":false,
        "targets":[
        {
          "expr":"count(kube_pod_info{namespace=\"$namespace\",pod=~\"$ui.*\"}) by (created_by_kind)",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"Pod Count",
          "refId":"A"
        }
        ],
        "thresholds":[

        ],
        "timeFrom":null,
        "timeShift":null,
        "title":"Pod Count",
        "tooltip":{
          "shared":true,
          "sort":0,
          "value_type":"individual"
        },
        "type":"graph",
        "xaxis":{
          "buckets":null,
          "mode":"time",
          "name":null,
          "show":true,
          "values":[

          ]
        },
        "yaxes":[
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        },
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        }
        ],
        "yaxis":{
          "align":false,
          "alignLevel":null
        }
      },
      {
        "aliasColors":{

        },
        "bars":false,
        "dashLength":10,
        "dashes":false,
        "datasource":"Prometheus",
        "fill":1,
        "gridPos":{
          "h":8,
          "w":12,
          "x":0,
          "y":23
        },
        "id":12,
        "legend":{
          "avg":false,
          "current":false,
          "max":false,
          "min":false,
          "show":true,
          "total":false,
          "values":false
        },
        "lines":true,
        "linewidth":1,
        "links":[

        ],
        "nullPointMode":"null",
        "percentage":false,
        "pointradius":5,
        "points":false,
        "renderer":"flot",
        "seriesOverrides":[

        ],
        "spaceLength":10,
        "stack":false,
        "steppedLine":false,
        "targets":[
        {
          "expr":"container_memory_usage_bytes{namespace=\"$namespace\",pod=~\"$ui.*\", container!=\"POD\",container!=\"\"}/(1024*1024)",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"Usage: {{"{{"}}pod}}/{{"{{"}}container}})",
          "refId":"A"
        },
        {
          "expr":"kube_pod_container_resource_limits_memory_bytes{namespace=\"$namespace\", pod=~\"$ui.*\"}/(1024*1024)",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"Limit: {{"{{"}}pod}}/{{"{{"}}container}}",
          "refId":"B"
        },
        {
          "expr":"kube_pod_container_resource_requests_memory_bytes{namespace=\"$namespace\",pod=~\"$ui.*\"}/(1024*1024)",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"Request: {{"{{"}}pod}}/{{"{{"}}container}}",
          "refId":"C"
        }
        ],
        "thresholds":[

        ],
        "timeFrom":null,
        "timeShift":null,
        "title":"Memory Usage",
        "tooltip":{
          "shared":true,
          "sort":0,
          "value_type":"individual"
        },
        "type":"graph",
        "xaxis":{
          "buckets":null,
          "mode":"time",
          "name":null,
          "show":true,
          "values":[

          ]
        },
        "yaxes":[
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        },
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        }
        ],
        "yaxis":{
          "align":false,
          "alignLevel":null
        }
      },
      {
        "aliasColors":{

        },
        "bars":false,
        "dashLength":10,
        "dashes":false,
        "datasource":"Prometheus",
        "fill":1,
        "gridPos":{
          "h":8,
          "w":12,
          "x":12,
          "y":23
        },
        "id":20,
        "legend":{
          "avg":false,
          "current":false,
          "max":false,
          "min":false,
          "show":true,
          "total":false,
          "values":false
        },
        "lines":true,
        "linewidth":1,
        "links":[

        ],
        "nullPointMode":"null",
        "percentage":false,
        "pointradius":5,
        "points":false,
        "renderer":"flot",
        "seriesOverrides":[

        ],
        "spaceLength":10,
        "stack":false,
        "steppedLine":false,
        "targets":[
        {
          "expr":"container_memory_cache{namespace=\"$namespace\",container!=\"POD\",container!=\"\",pod=~\"$ui.*\"}/(1024*1024)",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"memory_cache: {{"{{"}}pod}}/{{"{{"}}container}}",
          "refId":"A"
        }
        ],
        "thresholds":[

        ],
        "timeFrom":null,
        "timeShift":null,
        "title":"Memory Cache",
        "tooltip":{
          "shared":true,
          "sort":0,
          "value_type":"individual"
        },
        "type":"graph",
        "xaxis":{
          "buckets":null,
          "mode":"time",
          "name":null,
          "show":true,
          "values":[

          ]
        },
        "yaxes":[
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        },
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        }
        ],
        "yaxis":{
          "align":false,
          "alignLevel":null
        }
      },
      {
        "aliasColors":{

        },
        "bars":false,
        "dashLength":10,
        "dashes":false,
        "datasource":"Prometheus",
        "fill":1,
        "gridPos":{
          "h":8,
          "w":8,
          "x":0,
          "y":31
        },
        "id":22,
        "legend":{
          "avg":false,
          "current":false,
          "max":false,
          "min":false,
          "show":true,
          "total":false,
          "values":false
        },
        "lines":true,
        "linewidth":1,
        "links":[

        ],
        "nullPointMode":"null",
        "percentage":false,
        "pointradius":5,
        "points":false,
        "renderer":"flot",
        "seriesOverrides":[

        ],
        "spaceLength":10,
        "stack":false,
        "steppedLine":false,
        "targets":[
        {
          "expr":"container_memory_rss{namespace=\"$namespace\",container!=\"POD\",container!=\"\",pod=~\"$ui.*\"}/(1024*1024)",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"{{"{{"}}pod}}/{{"{{"}}container}}",
          "refId":"A"
        }
        ],
        "thresholds":[

        ],
        "timeFrom":null,
        "timeShift":null,
        "title":"Memory RSS",
        "tooltip":{
          "shared":true,
          "sort":0,
          "value_type":"individual"
        },
        "type":"graph",
        "xaxis":{
          "buckets":null,
          "mode":"time",
          "name":null,
          "show":true,
          "values":[

          ]
        },
        "yaxes":[
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        },
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        }
        ],
        "yaxis":{
          "align":false,
          "alignLevel":null
        }
      },
      {
        "aliasColors":{

        },
        "bars":false,
        "dashLength":10,
        "dashes":false,
        "datasource":"Prometheus",
        "fill":1,
        "gridPos":{
          "h":8,
          "w":8,
          "x":8,
          "y":31
        },
        "id":24,
        "legend":{
          "avg":false,
          "current":false,
          "max":false,
          "min":false,
          "show":true,
          "total":false,
          "values":false
        },
        "lines":true,
        "linewidth":1,
        "links":[

        ],
        "nullPointMode":"null",
        "percentage":false,
        "pointradius":5,
        "points":false,
        "renderer":"flot",
        "seriesOverrides":[

        ],
        "spaceLength":10,
        "stack":false,
        "steppedLine":false,
        "targets":[
        {
          "expr":"container_memory_swap{namespace=\"$namespace\",container!=\"POD\",container!=\"\",pod=~\"$ui.*\"}/(1024*1024)",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"{{"{{"}}pod}}/{{"{{"}}container}}",
          "refId":"A"
        }
        ],
        "thresholds":[

        ],
        "timeFrom":null,
        "timeShift":null,
        "title":"Memory Swap",
        "tooltip":{
          "shared":true,
          "sort":0,
          "value_type":"individual"
        },
        "type":"graph",
        "xaxis":{
          "buckets":null,
          "mode":"time",
          "name":null,
          "show":true,
          "values":[

          ]
        },
        "yaxes":[
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        },
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        }
        ],
        "yaxis":{
          "align":false,
          "alignLevel":null
        }
      },
      {
        "aliasColors":{

        },
        "bars":false,
        "dashLength":10,
        "dashes":false,
        "datasource":"Prometheus",
        "fill":1,
        "gridPos":{
          "h":8,
          "w":8,
          "x":16,
          "y":31
        },
        "id":26,
        "legend":{
          "avg":false,
          "current":false,
          "max":false,
          "min":false,
          "show":true,
          "total":false,
          "values":false
        },
        "lines":true,
        "linewidth":1,
        "links":[

        ],
        "nullPointMode":"null",
        "percentage":false,
        "pointradius":5,
        "points":false,
        "renderer":"flot",
        "seriesOverrides":[

        ],
        "spaceLength":10,
        "stack":false,
        "steppedLine":false,
        "targets":[
        {
          "expr":"container_memory_failcnt{namespace=\"$namespace\",container!=\"POD\",container!=\"\",pod=~\"$ui.*\"}",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"{{"{{"}}pod}}/{{"{{"}}container}}",
          "refId":"A"
        }
        ],
        "thresholds":[

        ],
        "timeFrom":null,
        "timeShift":null,
        "title":"Memory Fail Count",
        "tooltip":{
          "shared":true,
          "sort":0,
          "value_type":"individual"
        },
        "type":"graph",
        "xaxis":{
          "buckets":null,
          "mode":"time",
          "name":null,
          "show":true,
          "values":[

          ]
        },
        "yaxes":[
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        },
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        }
        ],
        "yaxis":{
          "align":false,
          "alignLevel":null
        }
      },
      {
        "aliasColors":{

        },
        "bars":false,
        "dashLength":10,
        "dashes":false,
        "datasource":"Prometheus",
        "fill":1,
        "gridPos":{
          "h":8,
          "w":6,
          "x":0,
          "y":39
        },
        "id":14,
        "legend":{
          "avg":false,
          "current":false,
          "max":false,
          "min":false,
          "show":true,
          "total":false,
          "values":false
        },
        "lines":true,
        "linewidth":1,
        "links":[

        ],
        "nullPointMode":"null",
        "percentage":false,
        "pointradius":5,
        "points":false,
        "renderer":"flot",
        "seriesOverrides":[

        ],
        "spaceLength":10,
        "stack":false,
        "steppedLine":false,
        "targets":[
        {
          "expr":"sum by (pod, container)(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\",image!=\"\",container!=\"POD\",pod=~\"$ui.*\"}[5m]))*1000",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"Usage:{{"{{"}}pod}}/{{"{{"}}container}}",
          "refId":"A"
        },
        {
          "expr":"kube_pod_container_resource_requests_cpu_cores{namespace=\"$namespace\",pod=~\"$ui.*\"}*1000",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"Requests: {{"{{"}}pod}}/{{"{{"}}container}}",
          "refId":"B"
        },
        {
          "expr":"kube_pod_container_resource_limits_cpu_cores{namespace=\"$namespace\",pod=~\"$ui.*\"}*1000",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"Limits:{{"{{"}}pod}}/{{"{{"}}container}}",
          "refId":"C"
        }
        ],
        "thresholds":[

        ],
        "timeFrom":null,
        "timeShift":null,
        "title":"CPU Usage",
        "tooltip":{
          "shared":true,
          "sort":0,
          "value_type":"individual"
        },
        "type":"graph",
        "xaxis":{
          "buckets":null,
          "mode":"time",
          "name":null,
          "show":true,
          "values":[

          ]
        },
        "yaxes":[
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        },
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        }
        ],
        "yaxis":{
          "align":false,
          "alignLevel":null
        }
      },
      {
        "aliasColors":{

        },
        "bars":false,
        "dashLength":10,
        "dashes":false,
        "datasource":"Prometheus",
        "fill":1,
        "gridPos":{
          "h":8,
          "w":5,
          "x":6,
          "y":39
        },
        "id":28,
        "legend":{
          "avg":false,
          "current":false,
          "max":false,
          "min":false,
          "show":true,
          "total":false,
          "values":false
        },
        "lines":true,
        "linewidth":1,
        "links":[

        ],
        "nullPointMode":"null",
        "percentage":false,
        "pointradius":5,
        "points":false,
        "renderer":"flot",
        "seriesOverrides":[

        ],
        "spaceLength":10,
        "stack":false,
        "steppedLine":false,
        "targets":[
        {
          "expr":"rate(container_cpu_cfs_throttled_seconds_total{namespace=\"$namespace\",container!=\"\",pod=~\"$ui.*\"}[5m])",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"cpu_cfs_throttled:{{"{{"}}pod}}/{{"{{"}}container}}",
          "refId":"A"
        }
        ],
        "thresholds":[

        ],
        "timeFrom":null,
        "timeShift":null,
        "title":"More CPU Stats",
        "tooltip":{
          "shared":true,
          "sort":0,
          "value_type":"individual"
        },
        "type":"graph",
        "xaxis":{
          "buckets":null,
          "mode":"time",
          "name":null,
          "show":true,
          "values":[

          ]
        },
        "yaxes":[
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        },
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        }
        ],
        "yaxis":{
          "align":false,
          "alignLevel":null
        }
      },
      {
        "aliasColors":{

        },
        "bars":false,
        "dashLength":10,
        "dashes":false,
        "datasource":"Prometheus",
        "fill":1,
        "gridPos":{
          "h":8,
          "w":6,
          "x":11,
          "y":39
        },
        "id":16,
        "legend":{
          "avg":false,
          "current":false,
          "max":false,
          "min":false,
          "show":true,
          "total":false,
          "values":false
        },
        "lines":true,
        "linewidth":1,
        "links":[

        ],
        "nullPointMode":"null",
        "percentage":false,
        "pointradius":5,
        "points":false,
        "renderer":"flot",
        "seriesOverrides":[

        ],
        "spaceLength":10,
        "stack":false,
        "steppedLine":false,
        "targets":[
        {
          "expr":"sort_desc(sum by (pod) (rate(container_network_receive_bytes_total{namespace=\"$namespace\",pod=~\"$ui.*\"}[5m])))/(1024*1024)",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"RX: {{"{{"}}pod}}",
          "refId":"A"
        },
        {
          "expr":"sort_desc(sum by (pod) (rate(container_network_transmit_bytes_total{namespace=\"$namespace\",pod=~\"$ui.*\"}[5m])))/(1024*1024)",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"TX: {{"{{"}}pod}}",
          "refId":"B"
        }
        ],
        "thresholds":[

        ],
        "timeFrom":null,
        "timeShift":null,
        "title":"Network I/O",
        "tooltip":{
          "shared":true,
          "sort":0,
          "value_type":"individual"
        },
        "type":"graph",
        "xaxis":{
          "buckets":null,
          "mode":"time",
          "name":null,
          "show":true,
          "values":[

          ]
        },
        "yaxes":[
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        },
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        }
        ],
        "yaxis":{
          "align":false,
          "alignLevel":null
        }
      },
      {
        "aliasColors":{

        },
        "bars":false,
        "dashLength":10,
        "dashes":false,
        "datasource":"Prometheus",
        "fill":1,
        "gridPos":{
          "h":8,
          "w":7,
          "x":17,
          "y":39
        },
        "id":18,
        "legend":{
          "avg":false,
          "current":false,
          "max":false,
          "min":false,
          "show":true,
          "total":false,
          "values":false
        },
        "lines":true,
        "linewidth":1,
        "links":[

        ],
        "nullPointMode":"null",
        "percentage":false,
        "pointradius":5,
        "points":false,
        "renderer":"flot",
        "seriesOverrides":[

        ],
        "spaceLength":10,
        "stack":false,
        "steppedLine":false,
        "targets":[
        {
          "expr":"sum(rate(container_fs_writes_bytes_total{namespace=\"$namespace\",pod=~\"$ui.*\"}[5m])) by (pod,device)/(1024*1024)",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"Container FS Writes Bytes  (Pod: {{"{{"}}pod}})",
          "refId":"A"
        },
        {
          "expr":"sum(rate(container_fs_reads_bytes_total{namespace=\"$namespace\",pod=~\"$ui.*\"}[5m])) by (pod,device)/(1024*1024)",
          "format":"time_series",
          "intervalFactor":1,
          "legendFormat":"Container FS Read Bytes  (Pod: {{"{{"}}pod}})",
          "refId":"B"
        }
        ],
        "thresholds":[

        ],
        "timeFrom":null,
        "timeShift":null,
        "title":"Disk I/O",
        "tooltip":{
          "shared":true,
          "sort":0,
          "value_type":"individual"
        },
        "type":"graph",
        "xaxis":{
          "buckets":null,
          "mode":"time",
          "name":null,
          "show":true,
          "values":[

          ]
        },
        "yaxes":[
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        },
        {
          "format":"short",
          "label":null,
          "logBase":1,
          "max":null,
          "min":null,
          "show":true
        }
        ],
        "yaxis":{
          "align":false,
          "alignLevel":null
        }
      }
      ],
      "refresh": "10s",
      "schemaVersion":16,
      "style":"dark",
      "tags":[
        "kyma"
      ],
      "templating":{
        "list":[
        {
          "allValue":null,
          "current":{
            "text":"kyma-system",
            "value":"kyma-system"
          },
          "datasource":"Prometheus",
          "hide":0,
          "includeAll":true,
          "label":"Namespace",
          "multi":false,
          "name":"namespace",
          "options":[

          ],
          "query":"label_values(kube_pod_info, namespace)",
          "refresh":1,
          "regex":"",
          "sort":0,
          "tagValuesQuery":"",
          "tags":[

          ],
          "tagsQuery":"",
          "type":"query",
          "useTags":false
        },
        {
          "allValue":null,
          "current":{
            "text":"console-web",
            "value":"console-web"
          },
          "datasource":"Prometheus",
          "hide":0,
          "includeAll":false,
          "label":"UI",
          "multi":false,
          "name":"ui",
          "options":[

          ],
          "query":"label_values(kube_pod_labels{namespace=~\"$namespace\",label_kyma_grafana=\"enabled\",label_kyma_component=\"ui\"},label_app)",
          "refresh":1,
          "regex":"",
          "sort":0,
          "tagValuesQuery":"",
          "tags":[

          ],
          "tagsQuery":"",
          "type":"query",
          "useTags":false
        }
        ]
      },
      "time": {
        "from": "now-1h",
        "to": "now"
      },
      "timepicker":{
        "refresh_intervals":[
          "5s",
          "10s",
          "30s",
          "1m",
          "5m",
          "15m",
          "30m",
          "1h",
          "2h",
          "1d"
        ],
        "time_options":[
          "5m",
          "15m",
          "1h",
          "6h",
          "12h",
          "24h",
          "2d",
          "7d",
          "30d"
        ]
      },
      "timezone":"",
      "title":"Kyma / Web APPs",
      "uid":"U1eCGKqik",
      "version":11
    }
